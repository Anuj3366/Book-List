(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(9863)}])},184:function(e,t,s){"use strict";var n=s(5893);t.Z=function(e){let{type:t,variant:s,onClick:a,children:r}=e;return(0,n.jsx)("span",{style:{padding:"5px"},children:(0,n.jsx)("button",{className:"btn btn-".concat(s),type:t,onClick:a,children:r})})}},9863:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return pages}});var n=s(5893),a=s(184),r=s(7719),l=s.n(r),dataTable=function(e){let{data:t,maxSize:s,editAction:r,deleteAction:c}=e;return(0,n.jsxs)("table",{className:l().table,children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{className:l().border,children:"Sr. No."}),(0,n.jsx)("th",{className:l().border,children:"Name"}),(0,n.jsx)("th",{className:l().border,children:"Author"}),(0,n.jsx)("th",{className:l().border,children:"Title"}),(0,n.jsx)("th",{className:l().border,children:"Actions"})]})}),(0,n.jsx)("tbody",{children:t.map((e,t)=>(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{className:l().border,children:t+1}),(0,n.jsx)("td",{className:l().border,children:e.name}),(0,n.jsx)("td",{className:l().border,children:e.author}),(0,n.jsx)("td",{className:l().border,children:e.title}),(0,n.jsxs)("td",{className:l().border,children:[(0,n.jsx)(a.Z,{type:"button",variant:"secondary",onClick:()=>{r(e)},children:"Edit"}),(0,n.jsx)(a.Z,{type:"button",variant:"warning",onClick:()=>{c(e)},children:"Delete"})]})]},t))})]})},c=s(1163),o=s(7294),pages=function(){let[e,t]=(0,o.useState)([]),s=(0,c.useRouter)();(0,o.useEffect)(()=>{fetchData()},[]);let fetchData=()=>{var e;null===(e=fetch("http://localhost:3001/books"))||void 0===e||e.then(async e=>{try{let s=await (null==e?void 0:e.json());t(s)}catch(e){console.log("***ERROR***",e)}})};return(0,n.jsxs)("div",{className:"container",children:[(0,n.jsx)(dataTable,{data:e,maxSize:10,editAction:e=>{console.log("The selected data is : ",e),s.push({pathname:"/editbook",query:e},"/editbook")},deleteAction:e=>{console.log("The selected data to delete is : ",e),fetch("http://localhost:3001/books/"+e.id,{method:"DELETE"}).then(async e=>{console.log("The response is : ",e),fetchData()})}}),(0,n.jsx)("div",{style:{margin:"20px",paddingLeft:"300px"}})]})}},7719:function(e){e.exports={table:"style_table__IhLQr",border:"style_border__ribAZ","border-collapse":"style_border-collapse__5QLP4"}},1163:function(e,t,s){e.exports=s(8355)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);